{"version":3,"sources":["theme/theme.ts","util/localstorage.ts","services/httpclient.ts","services/wsclient.ts","services/static.ts","services/store.ts","hooks/useStoredTheme.ts","assets/icons/logo.svg","styles/default.ts","styles/controls.ts","components/Button/Button.tsx","components/Spinner/Spinner.tsx","components/Header/ExecButton.tsx","components/Select/Select.tsx","assets/icons/logo-wide.svg","components/Info/Info.tsx","util/spec.ts","assets/icons/sun.svg","components/Switch/Switch.tsx","components/Header/Header.tsx","components/Editor/Editor.tsx","components/Input/Input.tsx","components/Input/CheckBox.tsx","components/Input/TextBox.tsx","components/Modal/Modal.tsx","components/Modal/Elements.tsx","assets/icons/moon.svg","components/SnackBar/types.ts","components/ThemeSwitch/ThemeSwitch.tsx","components/SettingsModal/SettingsModal.tsx","components/SnackBar/useSnackBar.ts","components/SnackBar/SnackBar.tsx","assets/icons/close.svg","util/format.tsx","components/ResultViewer/CloseButton.tsx","components/ResultViewer/ResultViewer.tsx","hooks/useQuery.ts","util/query.ts","routes/Main/SnippetNotification.tsx","hooks/useIsEmbedded.ts","hooks/useInitAPIClient.ts","components/Embed.tsx","components/WSInfoModal/WSInfoModal.tsx","hooks/useLocalStorage.ts","routes/Main/Main.tsx","hooks/useSpec.ts","hooks/useCodeExec.tsx","hooks/useInfo.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["AppTheme","LocalStorageUtil","key","val","window","localStorage","setItem","JSON","stringify","def","valStr","getItem","this","parseSafe","removeItem","parse","DarkTheme","background","accent","accentLight","accentDark","text","gray","darkGray","textRed","info","success","warn","error","LightTheme","RannaHttpClient","endpoint","httpClient","Client","spec","req","bypassCache","Observable","subscriber","next","code","EventCode","SPAWN","data","runid","exec","then","res","LOG","stderr","stdout","STOP","complete","catch","err","event","ERROR","ResponseError","response","status","message","APIError","mapError","id","RannaWSClient","wsClient","connectWs","_","nonce","randomNonce","nonceFilter","handler","e","getNonceFilter","unreg","push","onEvent","forEach","f","op","OpCode","EXEC","close","KILL","Math","floor","random","RANNA_ENDPOINT","process","SNIPPETS_ENDPOINT","Snippets","SnippetsClient","newRannaClient","useWS","useStore","create","set","get","setSpec","setCode","args","setArgs","env","setEnv","setBypassCache","apiKey","setApiKey","theme","matchMedia","matches","DARK","LIGHT","setTheme","setUseWS","rannaClient","useStoredTheme","editorTheme","s","_excluded","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","xmlnsXlink","style","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","ref","transform","x","y","fill","d","ForwardRef","BorderRadius","css","TransWithMuchEzCB","ControlStyle","p","InputStyle","StyledButton","styled","button","primary","ChildrenWrapper","span","hasIcon","ignoreScaling","Button","React","forwardRef","children","icon","_icon","Container","div","Spinner","ExecButton","active","onActivate","onStop","useState","hover","setHover","_content","onClick","onMouseEnter","onMouseLeave","StyledSelect","select","Select","options","_options","map","displayName","value","SvgLogoWide","Table","table","name","l","language","toLowerCase","_path","HEIGHT","enabled","Nob","Switch","iconEnabled","iconDisabled","onSwitch","_iconEnabled","_iconDisabled","StyledInfo","rannaEndpoint","snippetsEndpoint","version","builddate","go_version","sandbox","type","rel","href","InfoContainer","LogoContainer","FloatingExecButton","RightContainer","WSIcon","Header","isEmbedded","isActive","specMap","onOpenSettings","onExec","onSnippet","_specOptions","filter","use","disabled","onChange","currentTarget","v","Wrapper","Editor","selectedLang","readOnly","minimap","StyledInput","input","Input","StyledLabel","label","CheckBoxInput","CheckBox","className","StyledTextArea","textarea","TextBox","BACKGROUND_ID","Background","Heading","h2","Modal","heading","onClosing","onMouseDown","Controls","SvgSun","SvgMoon","NotificationType","StyledSwitch","ThemeSwitch","ContentContainer","InputLabel","h5","StyledCheckBox","TokenInputLabel","HeadingContainer","SettingsModal","envInpt","setEnvInpt","useEffect","envParsed","k","trim","join","placeholder","split","onBlur","m","shift","checked","onInput","useSnackBarStore","setActive","setPorps","useSnackBar","hideRef","useRef","_clearTimer","current","clearTimeout","hide","setTimeout","show","content","INFO","duration","closable","Notification","SUCCESS","WARN","SnackBar","linebreak","flat","pop","SvgClose","stroke","strokeLinecap","strokeWidth","CloseButton","PartHeading","OutputContainer","ErrContaienr","Hint","CacheHint","ResultViewer","stdOut","stdErr","isRunning","result","from_cache","cache_date","_show","emptyHint","format","Date","useQuery","URLSearchParams","location","search","getQueryParam","setV","sp","delete","query","toString","history","pushState","setQueryParam","Contaienr","contentLen","SnippetNotification","ident","url","origin","autoFocus","onFocus","useIsEmbedded","isEmbed","useLayoutEffect","self","top","useInitAPIClient","wsQuery","setWsQuery","parseInt","Embed","StyledMain","main","WSInfoModal","useLocalStorage","wsInfoShown","setWsInfoShown","wsInfoOpen","setWsInfoOpen","dontShowAgain","setDontShowAgain","_hide","htmlFor","EditorContainer","EmbedFooter","MainRoute","useSpec","snippet","setSnippet","runID","setRunID","_handleError","run","environment","pipe","catchError","tap","stop","useCodeExec","systemInfo","setInfo","im","useInfo","lastSnippetRef","setIsRunning","settingsOpen","setSettingsOpen","setStdOut","setStdErr","setResult","console","values","some","example","replaceAll","_reset","undefined","_postSnippet","a","clientOptions","auth","subscribe","GlobalStyle","createGlobalStyle","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.86a648d1.chunk.js","sourcesContent":["export enum AppTheme {\n  DARK = 0,\n  LIGHT = 1,\n}\n\nexport interface Theme {\n  background: string;\n  accent: string;\n  accentLight: string;\n  accentDark: string;\n  text: string;\n  gray: string;\n  darkGray: string;\n  textRed: string;\n\n  info: string;\n  success: string;\n  warn: string;\n  error: string;\n}\n\nexport const DarkTheme: Theme = {\n  background: '#1e1e1e',\n  accent: '#00acd7',\n  accentLight: '#0081d7',\n  accentDark: '#001419',\n  text: '#f4f4f5',\n  gray: '#455a64',\n  darkGray: '#263238',\n  textRed: '#EF5350',\n\n  info: '#039BE5',\n  success: '#7CB342',\n  warn: '#FB8C00',\n  error: '#D81B60',\n};\n\nexport const LightTheme: Theme = {\n  background: '#fffffe',\n  accent: '#00acd7',\n  accentLight: '#0081d7',\n  accentDark: '#bdd3d9',\n  text: '#212121',\n  gray: '#e5e5e5',\n  darkGray: '#e5e5e5',\n  textRed: '#EF5350',\n\n  info: '#039BE5',\n  success: '#7CB342',\n  warn: '#FB8C00',\n  error: '#D81B60',\n};\n\nexport const DefaultTheme = DarkTheme;\n","export default class LocalStorageUtil {\n  public static set<T>(key: string, val: T) {\n    window.localStorage.setItem(key, JSON.stringify(val));\n  }\n\n  public static get<T>(key: string, def?: T): T | undefined {\n    const valStr = window.localStorage.getItem(key);\n    if (valStr) return this.parseSafe(valStr, def);\n    return def;\n  }\n\n  public static del(key: string) {\n    window.localStorage.removeItem(key);\n  }\n\n  private static parseSafe<T>(val: string, def?: T): T | undefined {\n    try {\n      return JSON.parse(val);\n    } catch {\n      return def;\n    }\n  }\n}\n","import {\n  Client,\n  ExecutionRequest,\n  Event,\n  SpecMap,\n  RunID,\n  EventCode,\n  LogData,\n  WsError,\n  ResponseError,\n  APIError,\n  StopData,\n} from '@ranna-go/ranna-ts';\nimport { SystemInfo } from '@ranna-go/ranna-ts/dist/models';\nimport { Observable } from 'rxjs';\nimport { Result } from 'types/restapi';\nimport { RannaClient } from './rannaclient';\n\nexport class RannaHttpClient implements RannaClient {\n  protected httpClient: Client;\n\n  constructor(endpoint: string) {\n    this.httpClient = new Client(endpoint);\n  }\n\n  spec(): Promise<SpecMap> {\n    return this.httpClient.spec();\n  }\n\n  info(): Promise<SystemInfo> {\n    return this.httpClient.info();\n  }\n\n  exec(req: ExecutionRequest, bypassCache?: boolean): Observable<Event<any>> {\n    return new Observable((subscriber) => {\n      subscriber.next({\n        code: EventCode.SPAWN,\n        data: {\n          runid: 'NOT_SUPPORTED',\n        },\n      } as Event<RunID>);\n      this.httpClient\n        .exec(req, bypassCache)\n        .then((res) => {\n          subscriber.next({\n            code: EventCode.LOG,\n            data: {\n              stderr: res.stderr,\n              stdout: res.stdout,\n              runid: 'NOT_SUPPORTED',\n            },\n          } as Event<LogData>);\n          subscriber.next({\n            code: EventCode.STOP,\n            data: {\n              ...res,\n              runid: 'NOT_SUPPORTED',\n            } as Result,\n          } as Event<StopData>);\n          subscriber.complete();\n        })\n        .catch((err) => subscriber.error(mapError(err)));\n    });\n  }\n\n  // Unimplemented\n\n  close(): void {}\n  stop(id: string): void {}\n}\n\nfunction mapError(err: Error): Event<WsError> {\n  const event = {\n    code: EventCode.ERROR,\n    data: {},\n  } as Event<WsError>;\n  if (err instanceof ResponseError) {\n    event.data.code = err.response.status;\n    event.data.message = err.message;\n  } else if (err instanceof APIError) {\n    event.data = err;\n  } else {\n    event.data.message = err.message;\n  }\n  return event;\n}\n","import {\n  Event,\n  EventCode,\n  ExecutionRequest,\n  OpCode,\n  WebSocketClient,\n} from '@ranna-go/ranna-ts';\nimport { Observable } from 'rxjs';\nimport { Optional } from 'types/optional';\nimport { RannaHttpClient } from './httpclient';\nimport { RannaClient } from './rannaclient';\n\ntype UnregisterFunc = () => void;\n\nexport class RannaWSClient extends RannaHttpClient implements RannaClient {\n  private wsClient: WebSocketClient;\n\n  constructor(endpoint: string) {\n    super(endpoint);\n    this.wsClient = this.httpClient.connectWs();\n  }\n\n  override exec(req: ExecutionRequest, _?: boolean): Observable<Event<any>> {\n    const nonce = this.randomNonce;\n    const nonceFilter = getNonceFilter(nonce);\n    return new Observable((subscriber) => {\n      const unreg: UnregisterFunc[] = [];\n      unreg.push(\n        this.wsClient.onEvent(\n          EventCode.ERROR,\n          nonceFilter((e) => subscriber.error(e))\n        )\n      );\n      unreg.push(\n        this.wsClient.onEvent(\n          EventCode.SPAWN,\n          nonceFilter((e) => subscriber.next(e))\n        )\n      );\n      unreg.push(\n        this.wsClient.onEvent(\n          EventCode.LOG,\n          nonceFilter((e) => subscriber.next(e))\n        )\n      );\n      unreg.push(\n        this.wsClient.onEvent(\n          EventCode.STOP,\n          nonceFilter((e) => {\n            subscriber.next(e);\n            subscriber.complete();\n            unreg.forEach((f) => f());\n          })\n        )\n      );\n\n      this.wsClient.op(OpCode.EXEC, req, nonce);\n    });\n  }\n\n  close(): void {\n    this.wsClient.close();\n  }\n\n  stop(runid: string): void {\n    this.wsClient.op(OpCode.KILL, {\n      runid,\n    });\n  }\n\n  private get randomNonce(): number {\n    return Math.floor(Math.random() * 10000);\n  }\n}\n\nfunction getNonceFilter<T>(\n  nonce: number\n): (\n  handler: (e: Optional<Event<T>>) => void\n) => (e: Optional<Event<T>>) => void {\n  return (handler) => {\n    return (e) => {\n      if (e && e.nonce === nonce) handler(e);\n    };\n  };\n}\n","import { SnippetsClient } from '@ranna-go/ranna-ts';\nimport { RannaHttpClient } from './httpclient';\nimport { RannaClient } from './rannaclient';\nimport { RannaWSClient } from './wsclient';\n\nexport const RANNA_ENDPOINT =\n  process.env.REACT_APP_RANNA_ENDPOINT ?? 'https://public.ranna.dev';\nexport const SNIPPETS_ENDPOINT =\n  process.env.REACT_APP_SNIPPETS_ENDPOINT ?? 'https://snippets.ranna.dev';\n\nexport const Snippets = new SnippetsClient(SNIPPETS_ENDPOINT);\n\nexport function newRannaClient(useWS: boolean): RannaClient {\n  return useWS\n    ? new RannaWSClient(RANNA_ENDPOINT)\n    : new RannaHttpClient(RANNA_ENDPOINT);\n}\n","import { StringMap } from '@ranna-go/ranna-ts';\nimport create from 'zustand';\nimport LocalStorageUtil from 'util/localstorage';\nimport { AppTheme } from 'theme/theme';\nimport { RannaClient } from './rannaclient';\nimport { newRannaClient } from './static';\n\nexport interface Store {\n  spec: string;\n  setSpec: (v: string) => void;\n\n  code: string;\n  setCode: (v: string) => void;\n\n  args: string[];\n  setArgs: (v: string[]) => void;\n\n  env: StringMap;\n  setEnv: (v: StringMap) => void;\n\n  bypassCache: boolean;\n  setBypassCache: (v: boolean) => void;\n\n  apiKey: string;\n  setApiKey: (v: string) => void;\n\n  theme: AppTheme;\n  setTheme: (v: AppTheme) => void;\n\n  useWS: boolean;\n  setUseWS: (v: boolean) => void;\n\n  rannaClient: RannaClient;\n}\n\nexport const useStore = create<Store>((set, get) => ({\n  spec: '',\n  setSpec: (spec) => set({ spec }),\n\n  code: '',\n  setCode: (code) => set({ code }),\n\n  args: [],\n  setArgs: (args) => set({ args }),\n\n  env: {},\n  setEnv: (env) => set({ env }),\n\n  bypassCache: false,\n  setBypassCache: (bypassCache) => set({ bypassCache }),\n\n  apiKey: LocalStorageUtil.get('snippets.apiKey', '')!,\n  setApiKey: (apiKey) => {\n    set({ apiKey });\n    LocalStorageUtil.set('snippets.apiKey', apiKey);\n  },\n\n  theme: LocalStorageUtil.get(\n    'ranna.theme',\n    window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? AppTheme.DARK\n      : AppTheme.LIGHT\n  )!,\n  setTheme: (theme) => {\n    set({ theme });\n    LocalStorageUtil.set('ranna.theme', theme);\n  },\n\n  useWS: false,\n  setUseWS: (useWS) => {\n    get().rannaClient.close();\n    const rannaClient = newRannaClient(useWS);\n    set({ useWS, rannaClient });\n  },\n\n  rannaClient: newRannaClient(false),\n}));\n","import { useStore } from 'services/store';\nimport { AppTheme, DarkTheme, LightTheme, Theme } from 'theme/theme';\n\nexport function useStoredTheme() {\n  const appTheme = useStore((s) => s.theme);\n\n  let theme: Theme;\n  let editorTheme: string;\n\n  switch (appTheme) {\n    case AppTheme.LIGHT:\n      theme = LightTheme;\n      editorTheme = 'light';\n      break;\n    case AppTheme.DARK:\n    default:\n      theme = DarkTheme;\n      editorTheme = 'vs-dark';\n  }\n\n  return { theme, editorTheme };\n}\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 29,\n    viewBox: \"0 0 453 260\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1,0,0,1,-1760,-153)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"cutted\",\n    transform: \"matrix(0.537428,0,0,0.435154,1760.3,153.941)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: 841.89,\n    height: 595.276,\n    style: {\n      fill: \"none\"\n    }\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(7.44231,0,0,9.19147,286.214,574.646)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo-ranna\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,-60.875L17.035,-46.581L-36.982,-1.255C-37.554,-0.775 -36.979,0.128 -36.302,-0.187L70.129,-49.817C76.329,-52.708 74.268,-62.003 67.427,-62.003L0.411,-62.003C-0.186,-62.003 -0.457,-61.258 0,-60.875M38.18,-28.838L50.178,-18.771C51.967,-17.269 51.592,-14.417 49.475,-13.43L18.846,0.852C18.254,1.128 17.678,0.442 18.053,-0.093L28.48,-14.985L17.243,-19.075L38.18,-28.838Z\",\n    style: {\n      fill: \"rgb(0,172,215)\",\n      fillRule: \"nonzero\"\n    }\n  }))))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.6f93a3ae.svg\";\nexport { ForwardRef as ReactComponent };","import { css } from 'styled-components';\n\nexport const BorderRadius = css`\n  border-radius: 0.25em;\n`;\n\nexport const TransWithMuchEzCB = css`\n  transition-timing-function: cubic-bezier(0.75, 0, 0.25, 1);\n`;\n","import { css } from 'styled-components';\nimport { BorderRadius } from './default';\n\nexport const ControlStyle = css`\n  ${BorderRadius}\n\n  display: flex;\n  font-family: 'Poppins', sans-serif;\n  color: ${(p) => p.theme.text};\n  font-size: 1rem;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  padding: 0.3em 0.8em;\n  height: fit-content;\n  transition: all 0.25s ease;\n\n  background-color: ${(p) => p.theme.gray};\n\n  &:disabled {\n    opacity: 0.5;\n    background-color: ${(p) => p.theme.gray};\n    cursor: not-allowed;\n  }\n`;\n\nexport const InputStyle = css`\n  ${ControlStyle}\n\n  background-color: ${(p) => p.theme.darkGray};\n  cursor: text;\n  width: 100%;\n\n  &:focus {\n    outline: solid white 1px;\n  }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { ControlStyle } from 'styles/controls';\n\ntype ChildrenWrapperProps = {\n  ignoreScaling?: boolean;\n  hasIcon?: boolean;\n};\n\ntype ButtonProps = ChildrenWrapperProps & {\n  primary?: boolean;\n  icon?: string | JSX.Element;\n};\n\nexport type Props = React.ButtonHTMLAttributes<any> & ButtonProps;\n\nconst StyledButton = styled.button<ButtonProps>`\n  ${ControlStyle}\n\n  text-transform: uppercase;\n  background-color: ${(p) => (p.primary ? p.theme.accent : p.theme.gray)};\n\n  &:hover {\n    background-color: ${(p) =>\n      p.primary ? p.theme.accentLight : p.theme.accent};\n  }\n\n  &:disabled {\n    background-color: ${(p) => (p.primary ? p.theme.accent : p.theme.gray)};\n  }\n`;\n\nconst ChildrenWrapper = styled.span<ChildrenWrapperProps>`\n  margin-left: ${(p) => (p.hasIcon ? '0.5em' : '0')};\n\n  @media screen and (max-width: 700px) {\n    display: ${(p) => (p.ignoreScaling ? '' : 'none')};\n  }\n`;\n\nexport const Button = React.forwardRef<HTMLButtonElement, Props>(\n  ({ children, icon, ignoreScaling, ...props }, ref) => {\n    const _icon = icon ?? typeof icon === 'string' ? <span>{icon}</span> : icon;\n    return (\n      <StyledButton ref={ref} {...props}>\n        {_icon}\n        <ChildrenWrapper ignoreScaling={ignoreScaling} hasIcon={!!_icon}>\n          {children}\n        </ChildrenWrapper>\n      </StyledButton>\n    );\n  }\n);\n","import styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  min-width: 80px;\r\n  min-height: 24px;\r\n\r\n  & div {\r\n    position: absolute;\r\n    width: 11px;\r\n    height: 11px;\r\n    border-radius: 50%;\r\n    background: #fff;\r\n    animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n  }\r\n\r\n  & div:nth-child(1) {\r\n    left: 8px;\r\n    animation: lds-ellipsis1 0.6s infinite;\r\n  }\r\n\r\n  & div:nth-child(2) {\r\n    left: 8px;\r\n    animation: lds-ellipsis2 0.6s infinite;\r\n  }\r\n\r\n  & div:nth-child(3) {\r\n    left: 32px;\r\n    animation: lds-ellipsis2 0.6s infinite;\r\n  }\r\n\r\n  & div:nth-child(4) {\r\n    left: 56px;\r\n    animation: lds-ellipsis3 0.6s infinite;\r\n  }\r\n\r\n  @keyframes lds-ellipsis1 {\r\n    0% {\r\n      transform: scale(0);\r\n    }\r\n    100% {\r\n      transform: scale(1);\r\n    }\r\n  }\r\n\r\n  @keyframes lds-ellipsis3 {\r\n    0% {\r\n      transform: scale(1);\r\n    }\r\n    100% {\r\n      transform: scale(0);\r\n    }\r\n  }\r\n\r\n  @keyframes lds-ellipsis2 {\r\n    0% {\r\n      transform: translate(0, 0);\r\n    }\r\n    100% {\r\n      transform: translate(24px, 0);\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Spinner: React.FC = () => {\r\n  return (\r\n    <Container>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </Container>\r\n  );\r\n};\r\n","import { Button, Props as ButtonProps } from 'components/Button';\nimport { Spinner } from 'components/Spinner';\nimport { useState } from 'react';\n\ninterface Props extends ButtonProps {\n  active: boolean;\n  onActivate: () => void;\n  onStop?: () => void;\n}\n\nexport const ExecButton: React.FC<Props> = ({\n  active,\n  onActivate,\n  onStop,\n  ...props\n}) => {\n  const [hover, setHover] = useState(false);\n\n  const _onClick = () => {\n    if (!active) onActivate();\n    else if (onStop) onStop();\n  };\n\n  const _icon = active ? (hover && !!onStop ? '🚫' : '') : '▶';\n  const _content = active ? hover && !!onStop ? 'Stop' : <Spinner /> : <>Run</>;\n\n  return (\n    <Button\n      {...props}\n      primary\n      onClick={_onClick}\n      icon={_icon}\n      ignoreScaling={active}\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n    >\n      {_content}\n    </Button>\n  );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { InputStyle } from 'styles/controls';\n\nexport interface Option {\n  value: any;\n  displayName?: string;\n  id?: any;\n}\n\ntype Props = React.SelectHTMLAttributes<any> & {\n  options: Option[];\n};\n\nconst StyledSelect = styled.select`\n  ${InputStyle}\n\n  width: fit-content;\n  cursor: pointer;\n`;\n\nexport const Select = React.forwardRef<HTMLSelectElement, Props>(\n  ({ options, ...props }, ref) => {\n    const _options = options.map(({ displayName, value, id }) => (\n      <option key={id ?? value} value={value}>\n        {displayName ?? value}\n      </option>\n    ));\n\n    return (\n      <StyledSelect ref={ref} {...props}>\n        {_options}\n      </StyledSelect>\n    );\n  }\n);\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoWide(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 150,\n    height: 35,\n    viewBox: \"0 0 505 118\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1,0,0,1,-1760,-879)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"focused\",\n    transform: \"matrix(0.598399,0,0,0.195421,1760.3,879.699)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: 841.89,\n    height: 595.276,\n    style: {\n      fill: \"none\"\n    }\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo-ranna\",\n    transform: \"matrix(1.67113,0,0,5.11715,-282.507,-804.239)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.77623,0,0,1.77623,650.158,194.442)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,22.776C1.292,22.776 2.437,22.746 3.434,22.688C4.432,22.629 5.263,22.521 5.929,22.365L5.929,13.266C5.537,13.071 4.901,12.905 4.021,12.767C3.141,12.631 2.073,12.562 0.822,12.562C0,12.562 -0.871,12.621 -1.79,12.738C-2.71,12.856 -3.552,13.1 -4.314,13.472C-5.078,13.844 -5.714,14.353 -6.223,14.999C-6.731,15.643 -6.985,16.495 -6.985,17.551C-6.985,19.509 -6.359,20.868 -5.106,21.631C-3.855,22.394 -2.152,22.776 0,22.776M-0.47,-4.578C1.722,-4.578 3.571,-4.294 5.077,-3.727C6.583,-3.16 7.797,-2.357 8.717,-1.321C9.636,-0.284 10.292,0.95 10.684,2.378C11.074,3.806 11.271,5.381 11.271,7.103L11.271,25.639C11.271,25.952 11.052,26.217 10.743,26.268C10.347,26.334 9.867,26.412 9.305,26.504C8.462,26.64 7.514,26.768 6.457,26.885C5.401,27.003 4.256,27.109 3.022,27.208C1.79,27.305 0.567,27.354 -0.646,27.354C-2.368,27.354 -3.953,27.178 -5.4,26.826C-6.849,26.474 -8.101,25.916 -9.156,25.153C-10.214,24.39 -11.036,23.383 -11.622,22.13C-12.209,20.878 -12.503,19.372 -12.503,17.61C-12.503,15.928 -12.161,14.48 -11.476,13.266C-10.791,12.054 -9.861,11.075 -8.688,10.331C-7.513,9.588 -6.145,9.04 -4.579,8.688C-3.014,8.336 -1.37,8.16 0.352,8.16C0.9,8.16 1.468,8.189 2.055,8.248C2.642,8.306 3.199,8.386 3.728,8.483C4.256,8.581 4.716,8.669 5.107,8.747C5.498,8.825 5.771,8.884 5.929,8.923L5.929,7.396C5.929,6.497 5.831,5.607 5.636,4.726C5.439,3.844 5.087,3.063 4.579,2.378C4.07,1.693 3.376,1.145 2.494,0.734C1.614,0.323 0.47,0.118 -0.938,0.118C-2.739,0.118 -4.314,0.245 -5.664,0.499C-6.604,0.677 -7.379,0.859 -7.987,1.046C-8.362,1.161 -8.741,0.914 -8.797,0.526L-9.261,-2.724C-9.305,-3.031 -9.128,-3.321 -8.835,-3.422C-8.122,-3.667 -7.114,-3.906 -5.812,-4.138C-4.168,-4.432 -2.387,-4.578 -0.47,-4.578M-42.767,-2.43C-42.767,-2.726 -42.575,-2.983 -42.288,-3.051C-41.101,-3.329 -39.598,-3.624 -37.777,-3.932C-35.704,-4.285 -33.316,-4.461 -30.616,-4.461C-28.19,-4.461 -26.176,-4.118 -24.57,-3.434C-22.966,-2.748 -21.685,-1.79 -20.726,-0.558C-19.767,0.675 -19.093,2.152 -18.7,3.874C-18.31,5.596 -18.113,7.494 -18.113,9.568L-18.113,26.07C-18.113,26.422 -18.399,26.709 -18.752,26.709L-22.934,26.709C-23.287,26.709 -23.572,26.422 -23.572,26.07L-23.572,10.742C-23.572,8.864 -23.7,7.26 -23.954,5.929C-24.209,4.599 -24.629,3.522 -25.216,2.701C-25.803,1.879 -26.586,1.282 -27.564,0.91C-28.543,0.539 -29.756,0.352 -31.203,0.352C-31.79,0.352 -32.397,0.373 -33.022,0.411C-33.649,0.451 -34.246,0.499 -34.813,0.557C-35.381,0.616 -35.89,0.686 -36.34,0.763C-36.79,0.842 -37.112,0.901 -37.309,0.939L-37.309,26.07C-37.309,26.422 -37.595,26.709 -37.947,26.709L-42.128,26.709C-42.481,26.709 -42.767,26.422 -42.767,26.07L-42.767,-2.43ZM-75.351,-2.43C-75.351,-2.726 -75.159,-2.983 -74.871,-3.051C-73.684,-3.329 -72.181,-3.624 -70.36,-3.932C-68.287,-4.285 -65.899,-4.461 -63.199,-4.461C-60.773,-4.461 -58.759,-4.118 -57.153,-3.434C-55.549,-2.748 -54.268,-1.79 -53.309,-0.558C-52.351,0.675 -51.675,2.152 -51.283,3.874C-50.893,5.596 -50.696,7.494 -50.696,9.568L-50.696,26.07C-50.696,26.422 -50.982,26.709 -51.335,26.709L-55.517,26.709C-55.87,26.709 -56.155,26.422 -56.155,26.07L-56.155,10.742C-56.155,8.864 -56.283,7.26 -56.537,5.929C-56.792,4.599 -57.212,3.522 -57.799,2.701C-58.386,1.879 -59.169,1.282 -60.147,0.91C-61.126,0.539 -62.339,0.352 -63.786,0.352C-64.374,0.352 -64.98,0.373 -65.606,0.411C-66.232,0.451 -66.829,0.499 -67.396,0.557C-67.965,0.616 -68.473,0.686 -68.923,0.763C-69.373,0.842 -69.695,0.901 -69.892,0.939L-69.892,26.07C-69.892,26.422 -70.178,26.709 -70.53,26.709L-74.712,26.709C-75.064,26.709 -75.351,26.422 -75.351,26.07L-75.351,-2.43ZM-94.58,22.776C-93.288,22.776 -92.144,22.746 -91.146,22.688C-90.148,22.629 -89.317,22.521 -88.651,22.365L-88.651,13.266C-89.043,13.071 -89.679,12.905 -90.559,12.767C-91.439,12.631 -92.506,12.562 -93.758,12.562C-94.58,12.562 -95.451,12.621 -96.37,12.738C-97.29,12.856 -98.131,13.1 -98.894,13.472C-99.657,13.844 -100.294,14.353 -100.802,14.999C-101.312,15.643 -101.565,16.495 -101.565,17.551C-101.565,19.509 -100.939,20.868 -99.687,21.631C-98.435,22.394 -96.732,22.776 -94.58,22.776M-95.05,-4.578C-92.858,-4.578 -91.01,-4.294 -89.502,-3.727C-87.996,-3.16 -86.783,-2.357 -85.862,-1.321C-84.943,-0.284 -84.288,0.95 -83.896,2.378C-83.506,3.806 -83.31,5.381 -83.31,7.103L-83.31,25.639C-83.31,25.952 -83.528,26.217 -83.837,26.268C-84.233,26.334 -84.713,26.412 -85.276,26.504C-86.118,26.64 -87.066,26.768 -88.123,26.885C-89.18,27.003 -90.324,27.109 -91.557,27.208C-92.789,27.305 -94.013,27.354 -95.226,27.354C-96.948,27.354 -98.532,27.178 -99.98,26.826C-101.429,26.474 -102.681,25.916 -103.737,25.153C-104.793,24.39 -105.615,23.383 -106.202,22.13C-106.789,20.878 -107.083,19.372 -107.083,17.61C-107.083,15.928 -106.74,14.48 -106.056,13.266C-105.371,12.054 -104.441,11.075 -103.268,10.331C-102.094,9.588 -100.724,9.04 -99.158,8.688C-97.594,8.336 -95.95,8.16 -94.228,8.16C-93.68,8.16 -93.112,8.189 -92.525,8.248C-91.938,8.306 -91.381,8.386 -90.853,8.483C-90.324,8.581 -89.864,8.669 -89.473,8.747C-89.082,8.825 -88.809,8.884 -88.651,8.923L-88.651,7.396C-88.651,6.497 -88.749,5.607 -88.944,4.726C-89.141,3.844 -89.493,3.063 -90.001,2.378C-90.511,1.693 -91.205,1.145 -92.085,0.734C-92.966,0.323 -94.11,0.118 -95.52,0.118C-97.319,0.118 -98.894,0.245 -100.244,0.499C-101.185,0.677 -101.959,0.859 -102.567,1.046C-102.942,1.161 -103.321,0.914 -103.377,0.526L-103.841,-2.724C-103.885,-3.031 -103.708,-3.321 -103.415,-3.422C-102.702,-3.666 -101.694,-3.906 -100.392,-4.138C-98.748,-4.432 -96.968,-4.578 -95.05,-4.578M-115.111,-4.461C-114.643,-4.461 -114.104,-4.432 -113.498,-4.373C-112.892,-4.314 -112.294,-4.235 -111.707,-4.138C-111.304,-4.071 -110.288,-3.869 -109.618,-3.724C-109.276,-3.651 -109.059,-3.319 -109.127,-2.976L-109.809,0.477C-109.88,0.839 -110.243,1.07 -110.6,0.973C-110.994,0.865 -111.49,0.746 -112.089,0.616C-113.427,0.328 -115.392,0.38 -117.619,0.502C-119.188,0.607 -120.488,0.947 -120.923,1.057L-120.923,26.07C-120.923,26.422 -121.209,26.709 -121.562,26.709L-125.743,26.709C-126.096,26.709 -126.382,26.422 -126.382,26.07L-126.382,-2.067C-126.382,-2.34 -126.218,-2.584 -125.96,-2.673C-124.746,-3.086 -123.283,-3.477 -121.568,-3.845C-119.652,-4.255 -117.499,-4.461 -115.111,-4.461\",\n    style: {\n      fill: \"white\",\n      fillRule: \"nonzero\"\n    }\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.77623,0,0,1.77623,237.816,268.923)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,-60.875L17.035,-46.581L-36.982,-1.255C-37.554,-0.775 -36.979,0.128 -36.302,-0.187L70.129,-49.817C76.329,-52.708 74.268,-62.003 67.427,-62.003L0.411,-62.003C-0.186,-62.003 -0.457,-61.258 0,-60.875M38.18,-28.838L50.178,-18.771C51.967,-17.269 51.592,-14.417 49.475,-13.43L18.846,0.852C18.254,1.128 17.678,0.442 18.053,-0.093L28.48,-14.985L17.243,-19.075L38.18,-28.838Z\",\n    style: {\n      fill: \"rgb(0,172,215)\",\n      fillRule: \"nonzero\"\n    }\n  }))))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoWide);\nexport default __webpack_public_path__ + \"static/media/logo-wide.01ed36ab.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport { InfoModel } from './types';\nimport { ReactComponent as LogoWide } from 'assets/icons/logo-wide.svg';\nimport React from 'react';\n\ntype Props = React.HTMLAttributes<any> & {\n  info: InfoModel;\n};\n\nconst Container = styled.div`\n  padding: 1rem;\n  border-radius: 0.5rem;\n  background-color: ${(p) => p.theme.accentDark};\n  box-shadow: 0 1rem 3rem rgba(0 0 0 / 30%);\n`;\n\nconst Table = styled.table`\n  font-size: 0.9rem;\n  margin: 1em 0;\n  th {\n    font-size: 0.8em;\n    text-transform: uppercase;\n    text-align: start;\n    opacity: 0.5;\n    padding-right: 2em;\n  }\n`;\n\nexport const Info: React.FC<Props> = ({ info, ...props }) => {\n  return (\n    <Container {...props}>\n      <LogoWide />\n      <Table>\n        <tbody>\n          <tr>\n            <th>Ranna Endpoint</th>\n            <td>{info.rannaEndpoint}</td>\n          </tr>\n          <tr>\n            <th>Snippets Endpoint</th>\n            <td>{info.snippetsEndpoint}</td>\n          </tr>\n          <tr>\n            <th>Version</th>\n            <td>{info.version}</td>\n          </tr>\n          <tr>\n            <th>Build Date</th>\n            <td>{info.builddate}</td>\n          </tr>\n          <tr>\n            <th>Build Go Version</th>\n            <td>{info.go_version}</td>\n          </tr>\n          <tr>\n            <th>Sandbox Provider</th>\n            <td>\n              {info.sandbox.type} ({info.sandbox.version})\n            </td>\n          </tr>\n        </tbody>\n      </Table>\n      <span>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/ranna-go\">\n          GitHub\n        </a>\n        &nbsp;|&nbsp;\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://zekro.de/imprint\">\n          Imprint\n        </a>\n      </span>\n    </Container>\n  );\n};\n","import { Spec } from '@ranna-go/ranna-ts';\n\nexport function displayName(name: string, s: Spec): string {\n  const l = s.language;\n  if (!!l && l.toLowerCase() !== name.toLowerCase()) name += ` (${l})`;\n  return name;\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSun(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-5 w-5\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z\",\n    clipRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSun);\nexport default __webpack_public_path__ + \"static/media/sun.5533726e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\n\ntype Props = React.HTMLAttributes<any> & {\n  icon?: JSX.Element;\n  iconEnabled?: JSX.Element;\n  iconDisabled?: JSX.Element;\n  enabled: boolean;\n  onSwitch: (v: boolean) => void;\n};\n\nconst HEIGHT = '1.5rem';\n\nconst Container = styled.button<{ enabled: boolean }>`\n  height: ${HEIGHT};\n  width: calc(${HEIGHT} * 2);\n  border-radius: ${HEIGHT};\n  background-color: ${(p) => p.theme.darkGray};\n  border: none;\n  padding: none;\n  cursor: pointer;\n  display: flex;\n  padding: 0;\n  outline-style: solid;\n  outline-color: ${(p) => p.theme.accent}${(p) => (p.enabled ? '80' : '00')};\n  outline-width: ${(p) => (p.enabled ? '3px' : '0px')};\n  transition: outline 0.2s ease;\n`;\n\nexport const Nob = styled.div<{ enabled: boolean }>`\n  height: ${HEIGHT};\n  width: ${HEIGHT};\n  border-radius: ${HEIGHT};\n  background-color: ${(p) => p.theme.accent};\n  margin-left: ${(p) => (p.enabled ? '50%' : '0%')};\n  position: relative;\n  filter: grayscale(${(p) => (p.enabled ? '0' : '0.75')});\n\n  &,\n  > * {\n    transition: all 0.25s ease;\n  }\n\n  > * {\n    position: absolute;\n    top: 0;\n    left: 0;\n    margin: 0.2rem;\n\n    &:first-child {\n      opacity: ${(p) => (p.enabled ? '1' : '0')};\n    }\n    &:last-child {\n      opacity: ${(p) => (p.enabled ? '0' : '1')};\n    }\n  }\n`;\n\nexport const Switch = React.forwardRef<HTMLButtonElement, Props>(\n  ({ icon, iconEnabled, iconDisabled, enabled, onSwitch, ...props }, ref) => {\n    const _onSwitch = () => onSwitch(!enabled);\n    const _iconEnabled = iconEnabled ?? icon;\n    const _iconDisabled = iconDisabled ?? icon;\n    return (\n      <Container {...props} enabled={enabled} ref={ref} onClick={_onSwitch}>\n        <Nob enabled={enabled}>\n          {_iconEnabled}\n          {_iconDisabled}\n        </Nob>\n      </Container>\n    );\n  }\n);\n","import styled from 'styled-components';\r\nimport { ReactComponent as Logo } from 'assets/icons/logo.svg';\r\nimport { Button } from 'components/Button';\r\nimport { ExecButton } from './ExecButton';\r\nimport { Select, Option } from 'components/Select';\r\nimport { SpecMap } from '@ranna-go/ranna-ts';\r\nimport { useStore } from 'services/store';\r\nimport { Info, InfoModel } from 'components/Info';\r\nimport { displayName } from 'util/spec';\r\nimport { Switch } from 'components/Switch';\r\n\r\ninterface Props {\r\n  isActive?: boolean;\r\n  info?: InfoModel;\r\n  specMap?: SpecMap;\r\n  isEmbedded?: boolean;\r\n  onOpenSettings?: () => void;\r\n  onExec?: () => void;\r\n  onStop?: () => void;\r\n  onSnippet?: () => void;\r\n}\r\n\r\nconst StyledInfo = styled(Info)`\r\n  margin-top: 4.5rem;\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 1rem;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transition: all 0.25s ease;\r\n  z-index: 2;\r\n  filter: blur(5px);\r\n  transform: scale(1.02);\r\n`;\r\n\r\nconst LogoContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  &:hover ${InfoContainer} {\r\n    opacity: 1;\r\n    pointer-events: all;\r\n    filter: blur(0px);\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: fit-content;\r\n  background-color: ${(p) => p.theme.accentDark};\r\n  padding: 0.8rem;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 10;\r\n  flex-wrap: wrap;\r\n\r\n  > * {\r\n    margin-right: 1rem;\r\n\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst FloatingExecButton = styled(ExecButton)`\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 1em;\r\n  right: 1em;\r\n  box-shadow: 0 0.2em 1.5em rgba(0 0 0 / 50%);\r\n`;\r\n\r\nconst RightContainer = styled.div`\r\n  margin-left: auto;\r\n`;\r\n\r\nconst WSIcon = styled.span`\r\n  font-size: 0.7em;\r\n  font-weight: 900;\r\n  padding-top: 0.3em;\r\n  color: ${(p) => p.theme.text};\r\n`;\r\n\r\nexport const Header: React.FC<Props> = ({\r\n  info,\r\n  isEmbedded,\r\n  isActive = false,\r\n  specMap = {},\r\n  onOpenSettings = () => {},\r\n  onExec = () => {},\r\n  onStop,\r\n  onSnippet = () => {},\r\n}) => {\r\n  const { spec, setSpec, code, useWS, setUseWS } = useStore();\r\n\r\n  const _specOptions = Object.keys(specMap)\r\n    .filter((s) => !specMap[s].use)\r\n    .map(\r\n      (s) =>\r\n        ({\r\n          value: s,\r\n          displayName: displayName(s, specMap[s]),\r\n        } as Option)\r\n    );\r\n\r\n  return (\r\n    <>\r\n      {(isEmbedded && (\r\n        <>\r\n          <FloatingExecButton\r\n            disabled={!code || !spec}\r\n            active={isActive}\r\n            onActivate={onExec}\r\n            onStop={onStop}\r\n          />\r\n        </>\r\n      )) || (\r\n        <Container>\r\n          <LogoContainer>\r\n            <Logo />\r\n            {info && (\r\n              <InfoContainer>\r\n                <StyledInfo info={info} />\r\n              </InfoContainer>\r\n            )}\r\n          </LogoContainer>\r\n          <ExecButton\r\n            disabled={!code || !spec}\r\n            active={isActive}\r\n            onActivate={onExec}\r\n            onStop={onStop}\r\n          />\r\n          <Select\r\n            value={spec}\r\n            options={_specOptions}\r\n            onChange={(e) => setSpec(e.currentTarget.value)}\r\n          />\r\n          <Button icon={'⚙️'} onClick={onOpenSettings}>\r\n            Settings\r\n          </Button>\r\n          <Switch\r\n            enabled={useWS}\r\n            onSwitch={(v) => setUseWS(v)}\r\n            icon={<WSIcon>WS</WSIcon>}\r\n          />\r\n          <RightContainer>\r\n            <Button icon={'🔗'} disabled={!code || !spec} onClick={onSnippet}>\r\n              Share Snippet\r\n            </Button>\r\n          </RightContainer>\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import MonacoEditor from '@monaco-editor/react';\r\nimport { useStoredTheme } from 'hooks/useStoredTheme';\r\nimport styled from 'styled-components';\r\n\r\ninterface Props {\r\n  selectedLang: string;\r\n  value: string;\r\n  readOnly?: boolean;\r\n  onChange?: (v: string) => void;\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  > * {\r\n    padding: 1rem 0 0 0;\r\n    height: calc(100% - 1.5rem) !important;\r\n    box-sizing: border-box;\r\n  }\r\n`;\r\n\r\nexport const Editor: React.FC<Props> = ({\r\n  selectedLang,\r\n  value,\r\n  readOnly = false,\r\n  onChange = () => {},\r\n}) => {\r\n  const { editorTheme } = useStoredTheme();\r\n\r\n  return (\r\n    <Wrapper>\r\n      <MonacoEditor\r\n        language={selectedLang}\r\n        theme={editorTheme}\r\n        value={value}\r\n        onChange={(v) => onChange(v!)}\r\n        options={{\r\n          readOnly: readOnly,\r\n          minimap: { enabled: false },\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { InputStyle } from 'styles/controls';\r\n\r\ntype Props = React.InputHTMLAttributes<any> & {};\r\n\r\nconst StyledInput = styled.input`\r\n  ${InputStyle}\r\n\r\n  cursor: text;\r\n\r\n  transition: all 0.25s ease;\r\n`;\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, Props>(\r\n  ({ ...props }, ref) => {\r\n    return <StyledInput {...props} ref={ref} />;\r\n  }\r\n);\r\n","import React from 'react';\nimport styled from 'styled-components';\nimport { BorderRadius } from 'styles/default';\nimport { Input } from '.';\n\ntype Props = React.InputHTMLAttributes<any> & {};\n\nconst StyledLabel = styled.label`\n  ${BorderRadius}\n\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  transition: all 0.25s ease;\n\n  &:hover {\n    background-color: ${(p) => p.theme.darkGray};\n  }\n`;\n\nconst CheckBoxInput = styled(Input)`\n  margin-right: 0.5em;\n  width: fit-content;\n  cursor: inherit;\n\n  outline: none !important;\n`;\n\nexport const CheckBox = React.forwardRef<HTMLLabelElement, Props>(\n  ({ children, className, style, ...props }, ref) => {\n    return (\n      <StyledLabel ref={ref} className={className} style={style}>\n        <CheckBoxInput type=\"checkbox\" {...props} />\n        {children}\n      </StyledLabel>\n    );\n  }\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { InputStyle } from 'styles/controls';\n\ntype Props = React.TextareaHTMLAttributes<any> & {};\n\nconst StyledTextArea = styled.textarea`\n  ${InputStyle}\n\n  min-width: 100%;\n  max-width: 100%;\n`;\n\nexport const TextBox = React.forwardRef<HTMLTextAreaElement, Props>(\n  ({ ...props }, ref) => {\n    return <StyledTextArea {...props} ref={ref} />;\n  }\n);\n","import styled from 'styled-components';\r\n\r\nconst BACKGROUND_ID = ':background-element';\r\n\r\nexport interface ModalProps {\r\n  heading?: string | JSX.Element;\r\n  onClosing?: () => void;\r\n}\r\n\r\nconst Background = styled.div`\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: rgba(0 0 0 / 70%);\r\n  display: flex;\r\n  justify-content: center;\r\n  backdrop-filter: blur(12px);\r\n  z-index: 100;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  background-color: ${(p) => p.theme.accentDark};\r\n  padding: 1rem;\r\n  border-radius: 0.5rem;\r\n  margin: 20vh 5vw auto 5vw;\r\n\r\n  // Prohibit collissions into bottom edge\r\n  // when on low-height screens.\r\n  @media screen and (max-height: 600px) {\r\n    margin-top: auto;\r\n  }\r\n`;\r\n\r\nconst Heading = styled.h2`\r\n  margin-top: 0;\r\n`;\r\n\r\nexport const Modal: React.FC<ModalProps> = ({\r\n  children,\r\n  heading,\r\n  onClosing = () => {},\r\n}) => {\r\n  const _onBackgroundClick: React.MouseEventHandler<HTMLDivElement> = (e) => {\r\n    if ((e.target as HTMLElement).id !== BACKGROUND_ID) return;\r\n    onClosing();\r\n  };\r\n\r\n  return (\r\n    <Background id={BACKGROUND_ID} onMouseDown={_onBackgroundClick}>\r\n      <Container>\r\n        {heading && <Heading>{heading}</Heading>}\r\n        {children}\r\n      </Container>\r\n    </Background>\r\n  );\r\n};\r\n","import styled from 'styled-components';\n\ninterface Props {}\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 1em;\n  > * {\n    margin-left: 0.5em;\n    &:first-child {\n      margin-left: auto;\n    }\n  }\n`;\n\nexport const Controls: React.FC<Props> = ({ children }) => {\n  return <Container>{children}</Container>;\n};\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMoon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-5 w-5\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMoon);\nexport default __webpack_public_path__ + \"static/media/moon.6eed56ea.svg\";\nexport { ForwardRef as ReactComponent };","export enum NotificationType {\n  INFO = 1,\n  SUCCESS = 2,\n  WARN = 3,\n  ERROR = 4,\n}\n\nexport interface Props {\n  content: string | JSX.Element;\n  type: NotificationType;\n  closable: boolean;\n}\n","import styled from 'styled-components';\nimport { AppTheme } from 'theme/theme';\nimport { ReactComponent as Sun } from 'assets/icons/sun.svg';\nimport { ReactComponent as Moon } from 'assets/icons/moon.svg';\nimport { Switch } from 'components/Switch';\nimport { useStore } from 'services/store';\n\nconst StyledSwitch = styled(Switch)`\n  outline: none;\n`;\n\nexport const ThemeSwitch: React.FC<{}> = () => {\n  const { theme, setTheme } = useStore();\n  const _onSwitch = (e: boolean) =>\n    setTheme(e ? AppTheme.LIGHT : AppTheme.DARK);\n  return (\n    <StyledSwitch\n      enabled={theme === AppTheme.LIGHT}\n      onSwitch={_onSwitch}\n      iconEnabled={<Sun id=\"icon-sun\" />}\n      iconDisabled={<Moon id=\"icon-moon\" />}\n    />\n  );\n};\n","import { StringMap } from '@ranna-go/ranna-ts';\r\nimport { Button } from 'components/Button';\r\nimport { Input } from 'components/Input';\r\nimport { CheckBox } from 'components/Input/CheckBox';\r\nimport { TextBox } from 'components/Input/TextBox';\r\nimport { Controls, Modal } from 'components/Modal';\r\nimport { ThemeSwitch } from 'components/ThemeSwitch';\r\nimport { useEffect, useState } from 'react';\r\nimport { useStore } from 'services/store';\r\nimport styled from 'styled-components';\r\n\r\ninterface Props {\r\n  onClosing: () => void;\r\n}\r\n\r\nconst ContentContainer = styled.div`\r\n  width: 90vw;\r\n  max-width: 20rem;\r\n`;\r\n\r\nconst InputLabel = styled.h5`\r\n  margin-bottom: 0.5em;\r\n`;\r\n\r\nconst StyledCheckBox = styled(CheckBox)`\r\n  margin: 1rem 0;\r\n`;\r\n\r\nconst TokenInputLabel = styled(InputLabel)`\r\n  > a {\r\n    margin-left: 1em;\r\n  }\r\n`;\r\n\r\nconst HeadingContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SettingsModal: React.FC<Props> = ({ onClosing }) => {\r\n  const {\r\n    args,\r\n    setArgs,\r\n    bypassCache,\r\n    setBypassCache,\r\n    apiKey,\r\n    setApiKey,\r\n    env,\r\n    setEnv,\r\n  } = useStore();\r\n\r\n  const [envInpt, setEnvInpt] = useState('');\r\n\r\n  function onEnvBlur() {\r\n    const m: StringMap = {};\r\n    envInpt\r\n      .split('\\n')\r\n      .map((l) => l.split('='))\r\n      .filter((s) => s.length > 1)\r\n      .forEach((s) => (m[s.shift()!] = s.join('=')));\r\n    setEnv(m);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const envParsed = Object.keys(env)\r\n      .map((k) => `${k.trim()}=${env[k].trim()}`)\r\n      .join('\\n');\r\n    setEnvInpt(envParsed);\r\n  }, [env]);\r\n\r\n  return (\r\n    <Modal\r\n      heading={\r\n        <HeadingContainer>\r\n          <span>Settings</span>\r\n          <ThemeSwitch />\r\n        </HeadingContainer>\r\n      }\r\n      onClosing={onClosing}\r\n    >\r\n      <ContentContainer>\r\n        <InputLabel>Arguments</InputLabel>\r\n        <Input\r\n          placeholder=\"arg1 arg2\"\r\n          value={args.join(' ')}\r\n          onChange={(e) => setArgs(e.currentTarget.value.split(' '))}\r\n        />\r\n        <InputLabel>Evironment Variables</InputLabel>\r\n        <TextBox\r\n          placeholder=\"KEY=VALUE\"\r\n          value={envInpt}\r\n          onChange={(e) => setEnvInpt(e.currentTarget.value)}\r\n          onBlur={onEnvBlur}\r\n        />\r\n        <StyledCheckBox\r\n          checked={bypassCache}\r\n          onChange={(e) => setBypassCache(e.currentTarget.checked)}\r\n        >\r\n          Bypass Cache\r\n        </StyledCheckBox>\r\n        <TokenInputLabel>\r\n          Snippets Token\r\n          <a\r\n            href=\"https://app.snippets.ranna.dev/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            How to I get a token?\r\n          </a>\r\n        </TokenInputLabel>\r\n        <Input\r\n          placeholder=\"token\"\r\n          type=\"password\"\r\n          value={apiKey}\r\n          onInput={(e) => setApiKey(e.currentTarget.value)}\r\n        />\r\n      </ContentContainer>\r\n      <Controls>\r\n        <Button onClick={onClosing}>OK</Button>\r\n      </Controls>\r\n    </Modal>\r\n  );\r\n};\r\n","import { useRef } from 'react';\nimport { Timeout } from 'types/timer';\nimport create from 'zustand';\nimport { NotificationType, Props } from './types';\n\ninterface Store {\n  active: boolean;\n  setActive: (v: boolean) => void;\n\n  props: Props;\n  setPorps: (v: Props) => void;\n}\n\nexport const useSnackBarStore = create<Store>((set) => ({\n  active: false,\n  setActive: (active) => set({ active }),\n\n  props: {} as Props,\n  setPorps: (props) => set({ props }),\n}));\n\nexport function useSnackBar() {\n  const { setActive, setPorps } = useSnackBarStore();\n  const hideRef = useRef<Timeout | null>();\n\n  const _clearTimer = () => {\n    if (hideRef.current) {\n      clearTimeout(hideRef.current);\n      hideRef.current = null;\n    }\n  };\n\n  const show = (\n    content: string | JSX.Element,\n    type: NotificationType = NotificationType.INFO,\n    duration: number = 4000,\n    closable: boolean = true\n  ) => {\n    setPorps({ content, type, closable });\n    setActive(true);\n    _clearTimer();\n    if (duration > 0) hideRef.current = setTimeout(() => hide(), duration);\n  };\n\n  const hide = () => {\n    setActive(false);\n    // Await duration of animations, so that the\n    // snack bar will not be cleared before it is\n    // fully hidden.\n    setTimeout(() => setPorps({} as Props), 500);\n    _clearTimer();\n  };\n\n  return { show, hide };\n}\n","import styled from 'styled-components';\nimport { TransWithMuchEzCB } from 'styles/default';\nimport { NotificationType, Props } from './types';\nimport { useSnackBar, useSnackBarStore } from './useSnackBar';\n\nconst BACKGROUND_ID = ':snackbar_background';\n\ntype Activatible = { active: boolean };\n\nconst Container = styled.div<Activatible & { closable: boolean }>`\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  pointer-events: ${(p) => (p.active ? 'all' : 'none')};\n  text-align: center;\n`;\n\nconst Notification = styled.div<Props & Activatible>`\n  background-color: ${(p) => {\n    switch (p.type) {\n      case NotificationType.INFO:\n        return p.theme.info;\n      case NotificationType.SUCCESS:\n        return p.theme.success;\n      case NotificationType.WARN:\n        return p.theme.warn;\n      case NotificationType.ERROR:\n        return p.theme.error;\n    }\n  }};\n\n  position: absolute;\n  height: fit-content;\n  border-radius: 0.5rem;\n  padding: 0.5rem 1rem;\n  box-shadow: 0 0.2rem 2rem rgba(0 0 0 / 30%);\n\n  bottom: ${(p) => (p.active ? '2rem' : '-2rem')};\n  opacity: ${(p) => (p.active ? '1' : '0')};\n\n  ${TransWithMuchEzCB}\n  transition: all 0.3s;\n`;\n\nexport const SnackBar: React.FC = () => {\n  const { active, props } = useSnackBarStore();\n  const { hide } = useSnackBar();\n\n  const _containerClick: React.MouseEventHandler<HTMLDivElement> = (e) => {\n    if (!props.closable || (e.target as HTMLElement).id !== BACKGROUND_ID)\n      return;\n    hide();\n  };\n\n  return (\n    <Container\n      active={active}\n      closable={props.closable}\n      onMouseDown={_containerClick}\n      id={BACKGROUND_ID}\n    >\n      <Notification active={active} {...props}>\n        {props.content}\n      </Notification>\n    </Container>\n  );\n};\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-6 w-6\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M6 18L18 6M6 6l12 12\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.19e227f7.svg\";\nexport { ForwardRef as ReactComponent };","export function linebreak(v: string): JSX.Element[] {\n  const res = v\n    .split(/\\r?\\n/)\n    .map((v, i) => [<span key={`${i}-v`}>{v}</span>, <br key={`${i}-br`} />])\n    .flat();\n  res.pop();\n  return res;\n}\n","import { Button } from 'components/Button';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { ReactComponent as CloseIcon } from 'assets/icons/close.svg';\n\ntype Props = React.ButtonHTMLAttributes<any>;\n\nconst StyledButton = styled(Button)`\n  padding: 0.2rem;\n\n  background-color: transparent;\n\n  > * {\n    width: 1.5rem;\n    height: 1.5rem;\n    margin: 0;\n    display: block;\n  }\n\n  &:hover {\n    background-color: ${(p) => p.theme.accentDark};\n  }\n`;\n\nexport const CloseButton: React.FC<Props> = ({ ...props }) => {\n  return (\n    <StyledButton {...props}>\n      <CloseIcon />\n    </StyledButton>\n  );\n};\n","import styled from 'styled-components';\nimport { TransWithMuchEzCB } from 'styles/default';\nimport { linebreak } from 'util/format';\nimport { CloseButton } from './CloseButton';\nimport { format } from 'date-fns';\nimport { Result } from 'types/restapi';\n\ninterface Props {\n  stdOut: string;\n  stdErr: string;\n  isRunning: boolean;\n  result?: Result;\n  onClosing?: () => void;\n}\n\nconst Container = styled.div<{ show: boolean }>`\n  background-color: ${(p) => p.theme.darkGray};\n  font-family: 'Consolas', monospace;\n  min-width: 25rem;\n  width: fit-content;\n  max-width: 50vw;\n  position: absolute;\n  top: 0;\n  height: 100%;\n  padding: 1rem;\n  box-shadow: 0 0 50px rgba(0 0 0 / 30%);\n  display: flex;\n  justify-content: space-between;\n  overflow: hidden;\n  word-break: break-all;\n\n  ${TransWithMuchEzCB}\n  transition: all 0.25s;\n\n  right: ${(p) => (p.show ? '0' : '-25rem')};\n  opacity: ${(p) => (p.show ? '1' : '0')};\n\n  @media screen and (max-width: 60rem) {\n    bottom: ${(p) => (p.show ? '0' : '-5rem')};\n    left: 0;\n    top: unset;\n    right: unset;\n    width: 100%;\n    max-width: 100%;\n    height: fit-content;\n    max-height: 50vh;\n    overflow-y: auto;\n  }\n`;\n\nconst PartHeading = styled.p`\n  margin: 0 0 0.5em 0;\n  text-transform: uppercase;\n  font-weight: bolder;\n  font-size: 0.9rem;\n  opacity: 0.5;\n`;\n\nconst OutputContainer = styled.div`\n  margin-bottom: 1rem;\n`;\n\nconst ErrContaienr = styled(OutputContainer)`\n  color: ${(p) => p.theme.textRed};\n`;\n\nconst Hint = styled.i`\n  opacity: 0.7;\n`;\n\nconst CacheHint = styled(Hint)`\n  font-size: 0.8em;\n`;\n\nexport const ResultViewer: React.FC<Props> = ({\n  stdOut,\n  stdErr,\n  isRunning,\n  result,\n  onClosing = () => {},\n}) => {\n  const { from_cache, cache_date } = result ?? {};\n\n  const _show = isRunning || !!stdOut || !!stdErr || !!result;\n\n  const emptyHint = (isRunning && <Hint>Awaiting output...</Hint>) || (\n    <Hint>No output.</Hint>\n  );\n\n  return (\n    <Container show={_show}>\n      <div>\n        {stdOut && (\n          <OutputContainer>\n            <PartHeading>stdout</PartHeading>\n            <span>{linebreak(stdOut)}</span>\n          </OutputContainer>\n        )}\n        {stdErr && (\n          <ErrContaienr>\n            <PartHeading>stderr</PartHeading>\n            <span>{linebreak(stdErr)}</span>\n          </ErrContaienr>\n        )}\n        {from_cache && (\n          <CacheHint>\n            Cached result (\n            {format(new Date(cache_date!), 'yyyy/MM/dd - HH:mm:ss')}).\n          </CacheHint>\n        )}\n        {!stdOut && !stdErr && emptyHint}\n      </div>\n      <CloseButton onClick={onClosing} />\n    </Container>\n  );\n};\n","import { useState } from 'react';\nimport { getQueryParam, setQueryParam } from 'util/query';\n\nexport function useQuery(\n  key: string,\n  def?: string\n): [string | undefined, (v: string) => void] {\n  const [v, setV] = useState<string | undefined>(getQueryParam(key) ?? def);\n\n  const set = (v: string) => {\n    setV(v);\n    setQueryParam(key, v);\n  };\n\n  return [v, set];\n}\n","export function getQueryParam(key: string): string | null {\n  return new URLSearchParams(window.location.search).get(key);\n}\n\nexport function setQueryParam(key: string, v: string) {\n  const sp = new URLSearchParams(window.location.search);\n  if (!v) sp.delete(key);\n  else sp.set(key, v);\n  const query = sp.toString();\n  if (query.length === 0) window.history.pushState('', '', '/');\n  else window.history.pushState('', '', `?${query}`);\n}\n","import { Input } from 'components/Input';\nimport styled from 'styled-components';\n\ninterface Props {\n  ident: string;\n}\n\nconst Contaienr = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  > span {\n    margin-bottom: 0.4em;\n  }\n\n  &,\n  > * {\n    text-align: center;\n    margin: auto;\n  }\n`;\n\nconst StyledInput = styled(Input)<{ contentLen: number }>`\n  min-width: ${(p) => p.contentLen + 'ch'};\n  width: 100%;\n`;\n\nexport const SnippetNotification: React.FC<Props> = ({ ident }) => {\n  const url = `${window.location.origin}/?s=${ident}`;\n  return (\n    <Contaienr>\n      <span>You can use this link to share the snippet.</span>\n      <StyledInput\n        contentLen={url.length}\n        value={url}\n        readOnly\n        autoFocus\n        onFocus={(e) => e.target.select()}\n      />\n    </Contaienr>\n  );\n};\n","import { useLayoutEffect, useRef } from 'react';\n\nexport function useIsEmbedded() {\n  const isEmbed = useRef<boolean>();\n\n  useLayoutEffect(() => {\n    isEmbed.current = window.self !== window.top;\n  }, []);\n\n  return isEmbed.current;\n}\n","import { useEffect } from 'react';\nimport { useStore } from 'services/store';\nimport { useQuery } from './useQuery';\n\nexport const useInitAPIClient = () => {\n  const { useWS, setUseWS } = useStore();\n  const [wsQuery, setWsQuery] = useQuery('ws');\n\n  useEffect(() => {\n    setUseWS(parseBool(wsQuery));\n  }, []);\n\n  useEffect(() => {\n    setWsQuery(toBool(useWS));\n  }, [useWS]);\n};\n\nfunction parseBool(v: string | undefined) {\n  return !!v && parseInt(v) >= 1;\n}\n\nfunction toBool(v: boolean): string {\n  return v ? '1' : '';\n}\n","import styled from 'styled-components';\n\nexport const Embed = styled.span`\n  padding: 0em 0.2em;\n  background-color: rgba(0, 0, 0, 0.5);\n  border-radius: 5px;\n  font-family: monospace;\n  font-size: 1rem;\n`;\n","import { Button } from 'components/Button';\nimport { Embed } from 'components/Embed';\nimport { Controls, Modal } from 'components/Modal';\nimport { useIsEmbedded } from 'hooks/useIsEmbedded';\nimport { useLocalStorage } from 'hooks/useLocalStorage';\nimport { useEffect, useState } from 'react';\nimport { useStore } from 'services/store';\nimport styled from 'styled-components';\n\nconst StyledMain = styled.main`\n  max-width: 600px;\n`;\n\nexport const WSInfoModal: React.FC<{}> = () => {\n  const useWS = useStore((s) => s.useWS);\n  const [wsInfoShown, setWsInfoShown] = useLocalStorage(\n    'ranna.wsinfoshown',\n    false\n  );\n  const [wsInfoOpen, setWsInfoOpen] = useState(false);\n  const isEmbedded = useIsEmbedded();\n  const [dontShowAgain, setDontShowAgain] = useState(false);\n\n  useEffect(() => {\n    if (!isEmbedded && !wsInfoShown && useWS) {\n      setWsInfoOpen(true);\n    }\n  }, [useWS, isEmbedded, wsInfoShown]);\n\n  const _hide = () => {\n    setWsInfoShown(dontShowAgain);\n    setWsInfoOpen(false);\n  };\n\n  return (\n    <>\n      {wsInfoOpen && (\n        <Modal onClosing={_hide} heading=\"WebSocket API Info\">\n          <StyledMain>\n            The{' '}\n            <a\n              href=\"https://github.com/ranna-go/ranna/blob/master/docs/api/wsapi.md\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              WebSocket API\n            </a>{' '}\n            is now enabled. This allows to stop currently running executions as\n            well as displaying the output of the execution in real time (i.e. if\n            you want to output something every x seconds periodically).\n            <br />\n            <br />\n            Currently, the WebSocket API does not support caching. Also, you\n            might experience stricter rate limitations on the WebSocket API.\n            <br />\n            <br />\n            If you want to use the WebSocket API inside embeds, attach the{' '}\n            <Embed>ws=1</Embed> query parameterto your embed URL. For example\n            like this: <Embed>https://app.ranna.dev/?s=laXUu3&amp;ws=1</Embed>\n          </StyledMain>\n          <Controls>\n            <input\n              id=\"dontshowagain\"\n              type=\"checkbox\"\n              checked={dontShowAgain}\n              onChange={(e) => setDontShowAgain(e.currentTarget.checked)}\n            />\n            <label htmlFor=\"dontshowagain\">\n              Don't show this message again.\n            </label>\n            <Button onClick={_hide}>OK</Button>\n          </Controls>\n        </Modal>\n      )}\n    </>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport LocalStorageUtil from 'util/localstorage';\n\ntype GetterSetter<T> = [T | undefined, (v: T) => void];\n\nexport function useLocalStorage<T>(key: string, def?: T): GetterSetter<T> {\n  const [get, set] = useState<T | undefined>(LocalStorageUtil.get(key, def));\n\n  useEffect(() => {\n    LocalStorageUtil.set(key, get);\n  }, [get]);\n\n  return [get, set];\n}\n","import styled from 'styled-components';\r\nimport { Header } from 'components/Header';\r\nimport { useSpec } from 'hooks/useSpec';\r\nimport { Editor } from 'components/Editor';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { SettingsModal } from 'components/SettingsModal';\r\nimport { useStore } from 'services/store';\r\nimport { useCodeExec } from 'hooks/useCodeExec';\r\nimport { ResultViewer } from 'components/ResultViewer';\r\nimport { NotificationType, SnackBar } from 'components/SnackBar';\r\nimport { useSnackBar } from 'components/SnackBar/useSnackBar';\r\nimport { useQuery } from 'hooks/useQuery';\r\nimport { Snippets } from 'services/static';\r\nimport { EventCode, LogData, Snippet } from '@ranna-go/ranna-ts';\r\nimport { SnippetNotification } from './SnippetNotification';\r\nimport { useInfo } from 'hooks/useInfo';\r\nimport { useIsEmbedded } from 'hooks/useIsEmbedded';\r\nimport { Result } from 'types/restapi';\r\nimport { useInitAPIClient } from 'hooks/useInitAPIClient';\r\nimport { WSInfoModal } from 'components/WSInfoModal';\r\n\r\nconst Container = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst EditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  position: relative;\r\n`;\r\n\r\nconst EmbedFooter = styled.div`\r\n  background-color: ${(p) => p.theme.accentDark};\r\n  font-size: 0.7rem;\r\n  padding: 0.2em 0.4em;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  a {\r\n    color: ${(p) => p.theme.text};\r\n  }\r\n`;\r\n\r\nexport const MainRoute: React.FC = () => {\r\n  useInitAPIClient();\r\n\r\n  const specMap = useSpec();\r\n  const { code, setCode, spec, setSpec, apiKey, useWS } = useStore();\r\n  const [snippet, setSnippet] = useQuery('s');\r\n  const { show } = useSnackBar();\r\n  const { run, stop } = useCodeExec();\r\n  const systemInfo = useInfo();\r\n  const isEmbedded = useIsEmbedded();\r\n\r\n  const lastSnippetRef = useRef<string>('');\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [settingsOpen, setSettingsOpen] = useState(false);\r\n  const [stdOut, setStdOut] = useState('');\r\n  const [stdErr, setStdErr] = useState('');\r\n  const [result, setResult] = useState<Result>();\r\n\r\n  useEffect(() => {\r\n    if (snippet) {\r\n      Snippets.get(snippet)\r\n        .then((s) => {\r\n          setCode(s.code);\r\n          lastSnippetRef.current = s.code;\r\n          setSpec(s.language);\r\n        })\r\n        .catch((e) => {\r\n          if (e.code === 404)\r\n            show(\r\n              'No snippet with this ID was found or it has been removed.',\r\n              NotificationType.ERROR,\r\n              6000\r\n            );\r\n          else {\r\n            show(\r\n              <span>\r\n                An unexpected error occured on loading the snippet.\r\n                <br />\r\n                Please try again later.\r\n              </span>,\r\n              NotificationType.ERROR,\r\n              6000\r\n            );\r\n            console.error(e);\r\n          }\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!spec && specMap) {\r\n      const s = Object.keys(specMap)[0];\r\n      setSpec(s);\r\n    }\r\n\r\n    if (\r\n      specMap &&\r\n      spec &&\r\n      (!code ||\r\n        Object.values(specMap).some(\r\n          (s) => s.example === code.replaceAll('\\r\\n', '\\n')\r\n        ))\r\n    ) {\r\n      setCode(specMap[spec].example);\r\n    }\r\n  }, [spec, specMap]);\r\n\r\n  const _run = () => {\r\n    _reset();\r\n    run().subscribe({\r\n      error() {\r\n        setIsRunning(false);\r\n      },\r\n      complete() {\r\n        setIsRunning(false);\r\n      },\r\n      next(e) {\r\n        switch (e?.code) {\r\n          case EventCode.SPAWN:\r\n            setIsRunning(true);\r\n            break;\r\n          case EventCode.LOG:\r\n            {\r\n              const data = e.data as LogData;\r\n              if (data.stdout) setStdOut((v) => v + data.stdout);\r\n              if (data.stderr) setStdOut((v) => v + data.stderr);\r\n            }\r\n            break;\r\n          case EventCode.STOP:\r\n            setResult(e.data as Result);\r\n            break;\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  const _reset = () => {\r\n    setStdOut('');\r\n    setStdErr('');\r\n    setResult(undefined);\r\n  };\r\n\r\n  const _postSnippet = async () => {\r\n    if (snippet && code === lastSnippetRef.current) {\r\n      show(<SnippetNotification ident={snippet} />, NotificationType.INFO, 0);\r\n      return;\r\n    }\r\n    Snippets.clientOptions.auth = apiKey ? `bearer ${apiKey}` : '';\r\n    try {\r\n      const res = await Snippets.create({\r\n        code,\r\n        language: spec,\r\n      } as Snippet);\r\n      setSnippet(res.ident);\r\n      lastSnippetRef.current = code;\r\n      show(<SnippetNotification ident={res.ident} />, NotificationType.INFO, 0);\r\n    } catch {}\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Header\r\n        onOpenSettings={() => setSettingsOpen(true)}\r\n        specMap={specMap}\r\n        info={systemInfo}\r\n        isActive={isRunning}\r\n        onExec={_run}\r\n        onStop={useWS ? stop : undefined}\r\n        onSnippet={_postSnippet}\r\n        isEmbedded={isEmbedded}\r\n      />\r\n      {settingsOpen && (\r\n        <SettingsModal onClosing={() => setSettingsOpen(false)} />\r\n      )}\r\n      <EditorContainer>\r\n        <Editor\r\n          value={code}\r\n          onChange={setCode}\r\n          selectedLang={specMap[spec]?.language ?? spec}\r\n          readOnly={isEmbedded}\r\n        />\r\n        <ResultViewer\r\n          isRunning={isRunning}\r\n          stdOut={stdOut}\r\n          stdErr={stdErr}\r\n          result={result}\r\n          onClosing={_reset}\r\n        />\r\n      </EditorContainer>\r\n      {isEmbedded && (\r\n        <EmbedFooter>\r\n          <a target=\"_blank\" href={window.location.href} rel=\"noreferrer\">\r\n            Provided with ❤️ by ranna.\r\n          </a>\r\n          <span>\r\n            Spec: <code>{spec}</code>\r\n          </span>\r\n        </EmbedFooter>\r\n      )}\r\n      <SnackBar />\r\n      <WSInfoModal />\r\n    </Container>\r\n  );\r\n};\r\n","import { SpecMap } from '@ranna-go/ranna-ts';\nimport { useEffect, useState } from 'react';\nimport { useStore } from 'services/store';\n\nexport const useSpec = () => {\n  const [spec, setSpec] = useState<SpecMap>({});\n  const rannaClient = useStore((e) => e.rannaClient);\n\n  useEffect(() => {\n    rannaClient.spec().then((s) => setSpec(s));\n  }, []);\n\n  return spec;\n};\n","import {\n  Event,\n  EventCode,\n  ExecutionRequest,\n  RunID,\n  WsError,\n} from '@ranna-go/ranna-ts';\nimport { NotificationType } from 'components/SnackBar';\nimport { useSnackBar } from 'components/SnackBar/useSnackBar';\nimport { useState } from 'react';\nimport { catchError, filter, tap } from 'rxjs';\nimport { useStore } from 'services/store';\n\nexport function useCodeExec() {\n  const [runID, setRunID] = useState('');\n  const { rannaClient, code, spec, args, env, bypassCache } = useStore();\n  const { show } = useSnackBar();\n\n  const run = () =>\n    rannaClient\n      .exec(\n        {\n          code,\n          language: spec,\n          arguments: args,\n          environment: env,\n        } as ExecutionRequest,\n        bypassCache\n      )\n      .pipe(\n        catchError((e) => _handleError(e)),\n        filter((e) => !!e),\n        tap((e) => {\n          if (e.code === EventCode.SPAWN) setRunID((e.data as RunID).runid);\n          if (e.code === EventCode.STOP) setRunID('');\n        })\n      );\n\n  const stop = () => {\n    if (!!runID) {\n      rannaClient.stop(runID);\n      setRunID('');\n    }\n  };\n\n  const _handleError = (event: Event<WsError>) => {\n    const err = event.data;\n    if (err.code === 429) {\n      show(\n        <span>\n          You are being rate limited.\n          <br />\n          Please try again in a few seconds.\n        </span>,\n        NotificationType.ERROR\n      );\n    } else if (err.code >= 400 && err.code < 500) {\n      show(\n        <span>\n          Code execution failed. ({err.code})\n          {err.message && (\n            <>\n              <br />\n              <code>{err.message}</code>\n            </>\n          )}\n        </span>,\n        NotificationType.ERROR\n      );\n    } else {\n      show(\n        <span>\n          Request failed unexpectedly. ({err.code})\n          {err.message && (\n            <>\n              <br />\n              <code>{err.message}</code>\n            </>\n          )}\n        </span>,\n        NotificationType.ERROR\n      );\n    }\n    throw err;\n  };\n\n  return {\n    run,\n    stop,\n    runID,\n  };\n}\n","import { InfoModel } from 'components/Info';\nimport { NotificationType } from 'components/SnackBar';\nimport { useSnackBar } from 'components/SnackBar/useSnackBar';\nimport { useEffect, useState } from 'react';\nimport { RANNA_ENDPOINT, SNIPPETS_ENDPOINT } from 'services/static';\nimport { useStore } from 'services/store';\n\nexport function useInfo() {\n  const rannaClient = useStore((s) => s.rannaClient);\n  const [info, setInfo] = useState<InfoModel>();\n  const { show } = useSnackBar();\n\n  useEffect(() => {\n    rannaClient\n      .info()\n      .then((i) => {\n        const im = i as InfoModel;\n        im.rannaEndpoint = RANNA_ENDPOINT;\n        im.snippetsEndpoint = SNIPPETS_ENDPOINT;\n        setInfo(im);\n      })\n      .catch((e) =>\n        show('Failed loading system information.', NotificationType.ERROR)\n      );\n  }, []);\n\n  return info;\n}\n","import { useStoredTheme } from 'hooks/useStoredTheme';\nimport { createGlobalStyle, ThemeProvider } from 'styled-components';\nimport { MainRoute } from './routes/Main';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background-color: ${(p) => p.theme.background};\n    color: ${(p) => p.theme.text};\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  a {\n    color: ${(p) => p.theme.accent};\n  }\n`;\n\nfunction App() {\n  const { theme } = useStoredTheme();\n\n  return (\n    <div>\n      <ThemeProvider theme={theme}>\n        <MainRoute />\n        <GlobalStyle />\n      </ThemeProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry: any) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// eslint-disable react-hooks/exhaustive-deps\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.table);\n"],"sourceRoot":""}